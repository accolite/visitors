<card cardTitle='Report'>
<div class="mat-elevation-z8">
    <div class="report-loading-shade"   *ngIf="isLoadingResults">
    <mat-spinner *ngIf="isLoadingResults"></mat-spinner>
</div>
<table mat-table matSort [dataSource]="dataSource">

 <!--- Note that these columns can be defined in any order.
       The actual rendered columns are set as a property on the row definition" -->

 <!-- Position Column -->
 <ng-container matColumnDef="firstName" >
   <th  mat-header-cell *matHeaderCellDef mat-sort-header>First Name </th>
   <td mat-cell *matCellDef="let element"> {{element.firstName}} </td>
 </ng-container>
 <ng-container matColumnDef="lastName">
     <th mat-header-cell *matHeaderCellDef mat-sort-header> Last Name </th>
     <td mat-cell *matCellDef="let element"> {{element.lastName}} </td>
   </ng-container>     
   <!-- Name Column -->
   <ng-container matColumnDef="phoneNumber">
     <th mat-header-cell *matHeaderCellDef mat-sort-header> Mobile </th>
     <td mat-cell *matCellDef="let element"> {{element.phoneNumber}} </td>
   </ng-container>      
   <!-- Weight Column -->
   <ng-container matColumnDef="purpose">
     <th mat-header-cell *matHeaderCellDef mat-sort-header>Visit Purpose </th>
     <td mat-cell *matCellDef="let element"> {{element.visitSummary.purpose}} </td>
   </ng-container>

   <!-- Symbol Column -->
   <ng-container matColumnDef="contactPerson">
     <th mat-header-cell *matHeaderCellDef mat-sort-header> Contact Person </th>
     <td mat-cell *matCellDef="let element"> {{element.visitSummary.contactPerson}} </td>
   </ng-container>

     <!-- Symbol Column -->
   <ng-container matColumnDef="inTime">
     <th mat-header-cell *matHeaderCellDef mat-sort-header> In Time </th>
     <td mat-cell *matCellDef="let element"> {{element.visitSummary.inTime | date:'short'}} </td>
   </ng-container>

   <ng-container matColumnDef="idType">
       <th mat-header-cell *matHeaderCellDef mat-sort-header> Id Type </th>
       <td mat-cell *matCellDef="let element"> {{element.idType }} </td>
   </ng-container>

   <ng-container matColumnDef="idNumber">
       <th mat-header-cell *matHeaderCellDef mat-sort-header> Id Number </th>
       <td mat-cell *matCellDef="let element"> {{element.idNumber }} </td>
   </ng-container>
   <!-- <ng-container matColumnDef="actions">
       <th mat-header-cell *matHeaderCellDef mat-sort-header> Actions </th>
       <td mat-cell *matCellDef="let element"> </td>
   </ng-container> -->
   <!-- Search Columns-->
   <ng-container matColumnDef="firstName-search">
     <th mat-header-cell *matHeaderCellDef>
       <mat-form-field class="filter" floatLabel="never">
           <mat-label>Search</mat-label>
           <input matInput [formControl]="firstNameFilter">
         </mat-form-field>
      </th>
   </ng-container>
   <ng-container matColumnDef="lastName-search">
     <th mat-header-cell *matHeaderCellDef>
       <mat-form-field class="filter" floatLabel="never">
           <mat-label>Search</mat-label>
           <input matInput [formControl]="lastNameFilter">
         </mat-form-field>
      </th>
   </ng-container>
 <ng-container matColumnDef="phoneNumber-search">
     <th mat-header-cell *matHeaderCellDef>
       <mat-form-field class="filter" floatLabel="never">
           <mat-label>Search</mat-label>
           <input matInput [formControl]="phoneNumberFilter">
         </mat-form-field>
      </th>
   </ng-container>
   <ng-container matColumnDef="purpose-search">
     <th mat-header-cell *matHeaderCellDef>
       <mat-form-field class="filter" floatLabel="never">
           <mat-label>Search</mat-label>
           <input matInput [formControl]="purposeFilter">
         </mat-form-field>
      </th>
   </ng-container>
   <ng-container matColumnDef="contactPerson-search">
     <th mat-header-cell *matHeaderCellDef>
       <mat-form-field class="filter" floatLabel="never">
           <mat-label>Search</mat-label>
           <input matInput [formControl]="contactPersonFilter">
         </mat-form-field>
      </th>
   </ng-container>
   <ng-container matColumnDef="inTime-search">
     <th mat-header-cell *matHeaderCellDef>
       <mat-form-field class="filter" floatLabel="never">
           <mat-label>Search</mat-label>
           <input matInput [formControl]="inTimeFilter">
         </mat-form-field>
      </th>
   </ng-container>
   <ng-container matColumnDef="idType-search">
     <th mat-header-cell *matHeaderCellDef></th>
   </ng-container>
   <tr mat-header-row *matHeaderRowDef="displayedColumns" class="first-header-row"></tr>
   <tr mat-header-row *matHeaderRowDef="displayedSearchBoxes" ></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns" (click)="openDialog(row)"></tr>
</table>
<mat-paginator [pageSizeOptions]="[2,5,10,15]"  [length]="resultsLength" [pageSize]="pageSize"  showFirstLastButtons></mat-paginator>
</div>
</card>
